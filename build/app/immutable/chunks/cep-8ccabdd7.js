import{c as s}from"./singletons-09b47292.js";import{t as r,c as l,A as h,g as u,a as i}from"./stores-509a2c4a.js";var n=(t=>(t.Success="success",t.Danger="danger",t.Warning="warning",t.Info="info",t))(n||{});class m{constructor(e,o,a=3e3){this.message=e,this.type=o,this.duration=a}}function g(t,e=3e3){c(t,n.Danger,e)}function p(t,e=3e3){c(t,n.Warning,e)}function w(t,e=3e3){c(t,n.Success,e)}let d=null;function c(t,e,o){r.set(void 0),clearTimeout(d),r.set(new m(t,e,o)),d=setTimeout(()=>{r.set(void 0)},o)}s.disable_scroll_handling;const F=s.goto;s.invalidate;s.prefetch;s.prefetch_routes;s.before_navigate;const O=s.after_navigate;async function v(t,e="Copiado!",o="Erro ao copiar!"){try{await navigator.clipboard.writeText(t),w(e)}catch{g(o)}}const A="https://viacep.com.br/ws/",b="json";async function x(t,e){try{l.set(void 0),e&&e.setAttribute("disabled","disabled");let o=S(t)||await E(t);return l.set(o.information.cep),o}catch(o){throw console.error(o),o.message==="400"?p("CEP inv\xE1lido"):g("Verifique sua conex\xE3o com a internet."),new Error("CEP n\xE3o encontrado")}finally{e&&e.removeAttribute("disabled")}}function C(t){t.isFavorite=!t.isFavorite,f(t)}async function P(t){let e=JSON.stringify(t.map(o=>o.information),null,4);await v(e,"JSON copiado!","Erro ao copiar JSON!")}async function E(t){const o=await(await fetch(`${A}${t.replace(/\D/g,"")}/${b}/`)).json();if(o.erro)throw new Error("400");let a=h.fromAPIJson(o);return f(a),a}function S(t){let e=u(i)[t];return e&&y(e),e}function f(t){let e=u(i);e[t.information.cep]=t,i.update(o=>e)}function y(t){t.lastUsed=new Date,f(t)}export{O as a,g as b,P as c,x as f,F as g,w as s,C as t};
