import{w as n}from"./index-3bd2e9af.js";import{R as h}from"./index-6e0d7f85.js";class r{constructor(o="Desconhecido",e="Desconhecido",s="Desconhecido",a="Desconhecido",d="Desconhecido",c="Desconhecido",l="Desconhecido"){this.cep=o,this.logradouro=e,this.complemento=s,this.bairro=a,this.cidade=d,this.estado=c,this.ddd=l}static fromAPIJson(o){return new r(o.cep,o.logradouro,o.complemento,o.bairro,o.localidade,o.uf,o.ddd)}static fromLocalStorageJson(o){return new r(o.cep,o.logradouro,o.complemento,o.bairro,o.cidade,o.estado,o.ddd)}toString(){return`${this.logradouro}${this.logradouro&&(this.complemento||this.bairro)?",":this.logradouro?".":""} ${this.complemento?this.complemento+" - ":""} ${this.bairro?this.bairro+".":""} CEP: ${this.cep}. ${this.cidade}/${this.estado}`}}class i{constructor(o=new r,e=new Date,s=!1){this.information=o,this.lastUsed=e,this.isFavorite=s}static fromAPIJson(o){return new i(r.fromAPIJson(o),new Date,!1)}static fromLocalStorageJson(o){return new i(r.fromLocalStorageJson(o.information),new Date(o.lastUsed),o.isFavorite)}isValid(){return this.information.cep!=="Desconhecido"}toggleFavorite(){this.isFavorite=!this.isFavorite}filter(o){return o=o.toLowerCase(),this.information.cep.replace(/\D/g,"").includes(o)||this.information.cep.includes(o)||this.information.logradouro.toLowerCase().includes(o)||this.information.bairro.toLowerCase().includes(o)||this.information.cidade.toLowerCase().includes(o)||this.information.estado.toLowerCase().includes(o)}get addressInfo(){return{CEP:this.information.cep,Logradouro:this.information.logradouro,Complemento:this.information.complemento,Bairro:this.information.bairro,Cidade:this.information.cidade,Estado:this.information.estado,DDD:this.information.ddd}}}const m=u();m.subscribe(t=>{localStorage.setItem("addresses",JSON.stringify(t))});const w=n(void 0),b=n(void 0);function S(t){return h(t)}function f(){const t=localStorage.getItem("addresses");return t?g(t):{}}function u(){return n(f()||{})}function g(t){let o=JSON.parse(t),e={};return Object.entries(o).forEach(([s,a])=>{e[s]=i.fromLocalStorageJson(a)}),e}export{i as A,m as a,w as c,S as g,b as t};
