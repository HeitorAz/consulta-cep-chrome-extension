import{w as c}from"./index-3bd2e9af.js";import{R as h}from"./index-6e0d7f85.js";class s{constructor(o="Desconhecido",e="Desconhecido",r="Desconhecido",a="Desconhecido",d="Desconhecido",n="Desconhecido",l="Desconhecido"){this.cep=o,this.logradouro=e,this.complemento=r,this.bairro=a,this.cidade=d,this.estado=n,this.ddd=l,this.toString=()=>`${this.logradouro}${this.logradouro&&(this.complemento||this.bairro)?",":this.logradouro?".":""} ${this.complemento?this.complemento+" - ":""} ${this.bairro?this.bairro+".":""} CEP: ${this.cep}. ${this.cidade}/${this.estado}`}static fromAPIJson(o){return new s(o.cep,o.logradouro,o.complemento,o.bairro,o.localidade,o.uf,o.ddd)}static fromLocalStorageJson(o){return new s(o.cep,o.logradouro,o.complemento,o.bairro,o.cidade,o.estado,o.ddd)}toObject(){return{CEP:this.cep,Logradouro:this.logradouro,Complemento:this.complemento,Bairro:this.bairro,Cidade:this.cidade,Estado:this.estado,DDD:this.ddd}}}class i{constructor(o=new s,e=new Date,r=!1){this.information=o,this.lastUsed=e,this.isFavorite=r,this.isValid=()=>this.information.cep!=="Desconhecido"}static fromAPIJson(o){return new i(s.fromAPIJson(o),new Date,!1)}static fromLocalStorageJson(o){return new i(s.fromLocalStorageJson(o.information),new Date(o.lastUsed),o.isFavorite)}toggleFavorite(){this.isFavorite=!this.isFavorite}filter(o){return o=o.toLowerCase(),this.information.cep.replace(/\D/g,"").includes(o)||this.information.cep.includes(o)||this.information.logradouro.toLowerCase().includes(o)||this.information.bairro.toLowerCase().includes(o)||this.information.cidade.toLowerCase().includes(o)||this.information.estado.toLowerCase().includes(o)}}const m=u();m.subscribe(t=>{console.log("Updating Local Storage"),localStorage.setItem("addresses",JSON.stringify(t))});const w=c(void 0),b=c(void 0);function S(t){return h(t)}function f(){const t=localStorage.getItem("addresses");return t?g(t):{}}function u(){return c(f()||{})}function g(t){let o=JSON.parse(t),e={};return Object.entries(o).forEach(([r,a])=>{e[r]=i.fromLocalStorageJson(a)}),e}export{i as A,m as a,w as c,S as g,b as t};
